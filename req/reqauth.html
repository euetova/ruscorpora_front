<html><head>
<meta name="content-type" http-equiv="text/html; charset='windows-1251'">
<title>Автор текста</title>
<script src="../static/js/jquery.js"></script>
    <link href="../static/css/bootstrap.flatly.css" rel="stylesheet">
<script src="../static/js/bootstrap.min.js"></script>
<script language="JavaScript">

function getAuthName() {
	authorDialog = window.open("authors.html", "_blank","width=250, height=495, resizable=yes");
}

function collect() {
	var pwin = window.opener;
	var s;
    var docall  = window.document.authForm.elements;
    if (pwin && ! pwin.closed)
	{
		var years = "";
		var s = "";
        var sex = "";
		if ((docall.birthday1.value != "" )&& (docall.birthday2.value != ""))
		{
			years = docall.birthday1.value + " - " + docall.birthday2.value ;
		} else
		{
			if (docall.birthday1.value != "")  years = docall.birthday1.value;
			else years = docall.birthday2.value;
		}
		var sex_radios = window.document.getElementsByName("sex");
		for (i=0; i<sex_radios.length; i++) {
				if  (sex_radios[i].checked) {
				 	sex = sex_radios[i].value;
					break;
				}
		}
		if (docall.author.value != "") s += docall.author.value;
        if (sex != "any"){
            if (s != "") s += ", ";
            s += sex;
        }
		if (years) {
			if (s != "") s += ", ";
			s += years;
		}
		pwin.document.reqForm.elements["auth_info"].value = s;

        pwin.document.reqForm.elements["author"].value = docall.author.value ;
        pwin.document.reqForm.elements["birthday1"].value = docall.birthday1.value;
        pwin.document.reqForm.elements["birthday2"].value = docall.birthday2.value;
        pwin.document.reqForm.elements["sex"].value = sex;
	}
    window.close();
}

function init(){
	var pwin = window.opener;
    var docall  = window.document.authForm.elements;
    if (pwin && ! pwin.closed)
	{
        docall.author.value = pwin.document.reqForm.elements["author"].value;
        docall.birthday1.value = pwin.document.reqForm.elements["birthday1"].value;
        docall.birthday2.value = pwin.document.reqForm.elements["birthday2"].value;

		var sex_radios = window.document.getElementsByName("sex");
		var oldval = pwin.document.reqForm.elements["sex"].value;
		for (i=0; i<sex_radios.length; i++) {
				if  ( oldval == sex_radios[i].value)
				{
					sex_radios[i].checked = true;
					break;
				}
		}
	}
}
</script>

<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
</head>

<body onload=init()>

<!-- Yandex.Metrika -->
<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript"></script>
<script type="text/javascript">
try { var yaCounter677861 = new Ya.Metrika(677861); } catch(e){}
</script>
<noscript><img src="//mc.yandex.ru/watch/677861" style="position:absolute" alt="" /></noscript>
<!-- /Yandex.Metrika -->

<center>
<h3>Автор текста</h3>
<form name=authForm action="">
<table border=0 cellspacing=0 cellpadding=2 class="intable">
	<tr>
        <td width=100%>Фамилия,&nbsp;имя&nbsp;&nbsp;<br>
				<input type="text" name=author style="width: 100%;">
		</td>
	<tr>
		<td>Пол:&nbsp;&nbsp;
				<input type=radio name=sex value=masc> мужской
				<input type=radio name=sex value=fem> женский
				<input type=radio name=sex value=any checked> любой
		</td>
	<tr>
		<td>Год рождения:&nbsp;&nbsp;
				от <input type=text name=birthday1 size=10>
				до <input type=text name=birthday2 size=10><br><br>
		</td>
	</tr>
</table>
<input type=button class=button value="  OK  " onclick="collect()">
<input type=reset class=button value="Отмена" onclick='window.close()'>
</form>
</center>
</body>
</html>
